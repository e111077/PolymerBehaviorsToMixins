<script>
  window.MyMixins = window.MyMixins || {};
  
  MyMixins.MyMixin2 = (SuperClass) => {
    return class MyMixin2 extends SuperClass {
      static get config() {
        let configuration = {
          properties: {
            myMixin2Default: {
              type: String,
              value: 'defined by my-mixin-2'
            },
            
            myMixin2Observed: {
              type: String,
              value: 'default value'
            },

            myMixin2Click: {
              type: String,
              value: 'no clicks captured yet'
            },

            myMixin2ClickCount: {
              type: Number,
              value: 0
            },

            myMixin2Attribute: {
              type: String,
              value: 'default value'
            },

            myMixin2Created: {
              type: String,
              value: 'default value'
            },

            myMixin2Attached: {
              type: String,
              value: 'default value'
            },

            myMixin2Ready: {
              type: String,
              value: 'default value'
            },

            // My Mixin 1 properties
            myMixin1Default: {
              type: String,
              value: 'defined by my-mixin-2'
            },
            
            myMixin1Observed: {
              type: String,
              value: 'default value'
            },

            myMixin1Click: {
              type: String,
              value: 'no clicks captured yet'
            },

            myMixin1ClickCount: {
              type: Number,
              value: 0
            },

            myMixin1Attribute: {
              type: String,
              value: 'default value'
            },

            myMixin1Created: {
              type: String,
              value: 'default value'
            },

            myMixin1Attached: {
              type: String,
              value: 'default value'
            },

            myMixin1Ready: {
              type: String,
              value: 'default value'
            },

            // My Element properties
            myElementNewSyntaxDefault: {
              type: String,
              value: 'defined by my-mixin-2'
            },
            
            myElementNewSyntaxObserved: {
              type: String,
              value: 'default value'
            },

            myElementNewSyntaxClick: {
              type: String,
              value: 'no clicks captured yet'
            },

            myElementNewSyntaxClickCount: {
              type: Number,
              value: 0
            },

            myElementNewSyntaxAttribute: {
              type: String,
              value: 'default value'
            },

            myElementNewSyntaxCreated: {
              type: String,
              value: 'default value'
            },

            myElementNewSyntaxAttached: {
              type: String,
              value: 'default value'
            },

            myElementNewSyntaxReady: {
              type: String,
              value: 'default value'
            }
          },

          observers: [
            'myElementNewSyntaxObservedChanged(myElementNewSyntaxObserved)',
            'myMixin2ObservedChanged(myMixin2Observed)',
            'myMixin1ObservedChanged(myMixin1Observed)'
          ]
        }

        return configuration;
      }

      constructor() {
        super();

        this.myElementNewSyntaxCreated = 'defined by my-mixin-2';
        this.myMixin1Created = 'defined by my-mixin-2';
        this.myMixin2Created = 'defined by my-mixin-2';
      }

      connectedCallback() {
        super.connectedCallback();

        this.myElementNewSyntaxAttribute = this.getAttribute('myElementNewSyntaxAttribute');
        this.myElementNewSyntaxAttached = 'defined by my-mixin-2';
      }

      ready() {
        this.addEventListener('click', (e) => this.handleClickMixin2(e));
        this._ensureAttribute('myElementNewSyntaxAttribute', 'defined by my-mixin-2');
        this._ensureAttribute('myMixin1Attribute', 'defined by my-mixin-2');
        this._ensureAttribute('myMixin2Attribute', 'defined by my-mixin-2');

        this.myElementAttribute = this.getAttribute('myElementAttribute');
        this.myMixin1Attribute = this.getAttribute('myMixin1Attribute');
        this.myMixin2Attribute = this.getAttribute('myMixin2Attribute');
        this.myElementNewSyntaxReady = 'defined by my-mixin-2';

        super.ready();
      }

      myElementNewSyntaxObservedChanged() {
        this.myElementNewSyntaxObserved = 'changed by my-mixin-2';
      }

      myMixin1ObservedChanged() {
        this.myMixin1Observed = 'changed by my-mixin-2';
      }

      myMixin2ObservedChanged() {
        this.myMixin2Observed = 'changed by my-mixin-2';
      }

      // listener set in my-element
      handleClick(e) {
        this.myElementNewSyntaxClick = 'click captured by my-mixin-2';
        this.myElementNewSyntaxClickCount += 1;
      }

      // listener set in my-mixin-1
      handleClickMixin1(e) {
        this.myMixin1Click = 'click captured by my-mixin-2';
        this.myMixin1ClickCount += 1;
      }

      handleClickMixin2(e) {
        this.myMixin2Click = 'click captured by my-mixin-2';
        this.myMixin2ClickCount += 1;
      }
    }
  }
</script>